<!DOCTYPE html>

<!-----------------------------------------------------------------------------
 |
 | Copyright (c) Matussi. All rights reserved.
 |
 ----------------------------------------------------------------------------->

<html>
<head>
    <title>Minigame Launcher</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<body>
    <div id="gg-container"></div>

    <noscript>:| no javascript?!</noscript>

    <script>

        var mgcid = "mgc";

        function launch(game, level) {
            if (document.getElementById(mgcid)) {
                console.warn("A minigame is already running");
                return;
            }
            var games = ["Bubble", "Frogger", "Ninja", "Sheep", "Sorcerer"],
                game = games[game - 1],
                container = document.createElement("IFRAME");
            container.id = mgcid;
            container.style.cssText =
                "position:absolute;position:fixed;" +
                "left:0;top:0;width:100%;height:100%;z-index:1000;" +
                "background-color:black;";
            container.src = "./" + game + "/index.html?level=" + level;
            mgcwrapper.appendChild(container);
        }

        function endLevel(passed) {
            var container = document.getElementById(mgcid);
            if (!container) {
                console.warn("No minigame is running");
                return;
            }
            mgcwrapper.removeChild(container);
            container = null;
            setTimeout(function () { alert("Level ended. Passed: " + passed); }, 1000);
        }

    </script>

    <h1>Minigames</h1>

    <h2>Bubble</h2>
    <button onclick="launch(1, 1)">level 1</button>
    <button onclick="launch(1, 2)">level 2</button>
    <button onclick="launch(1, 3)">level 3</button>
    <button onclick="launch(1, 4)">level 4</button>
    <button onclick="launch(1, 5)">level 5</button>

    <h2>Frogger</h2>
    <button onclick="launch(2, 1)">level 1</button>
    <button onclick="launch(2, 2)">level 2</button>
    <button onclick="launch(2, 3)">level 3</button>
    <button onclick="launch(2, 4)">level 4</button>
    <button onclick="launch(2, 5)">level 5</button>

    <h2>Ninja</h2>
    <button onclick="launch(3, 1)">score 100</button>
    <button onclick="launch(3, 5)">level 500</button>
    <button onclick="launch(3, 10)">level 1000</button>

    <h2>Sheep</h2>
    <button onclick="launch(4, 1)">do 1 jump</button>
    <button onclick="launch(4, 3)">do 3 jumps</button>
    <button onclick="launch(4, 5)">do 5 jumps</button>

    <h2>Sorcerer</h2>
    <button onclick="launch(5, 1)">level 1</button>
    <button onclick="launch(5, 2)">level 2</button>
    <button onclick="launch(5, 3)">level 3</button>
    
    <div id="mgcwrapper" style="display:block!important;"></div>
</body>
</html>
