<!doctype html>

<!-----------------------------------------------------------------------------
 |
 | Copyright (c) Matussi. All rights reserved.
 |
 ----------------------------------------------------------------------------->

<html>
<head>
    <title>DSquared2 Minigame Launcher</title>
    <meta charset="utf-8">
    <!-- Browser specific meta tags -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no,
        initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- /Browser specific meta tags -->
</head>
<body ondragstart="return false;" ondrop="return false;">>
    <noscript>:| no javascript?!</noscript>
    <script>

        var mgcid = "mgc";

        function launch(game, level) {
            if (document.getElementById(mgcid)) {
                console.warn("A minigame is already running");
                return;
            }
            var container = document.createElement("IFRAME");
            container.id = mgcid;
            container.style.cssText =
                "position:absolute;position:fixed;" +
                "left:0;top:0;width:100%;height:100%;z-index:1000;" +
                "background-color:black; border:0;";
            container.src = "./" + game + "/index.html?level=" + level;
            document.body.appendChild(container);
        }

        function endLevel(passed) {
            var container = document.getElementById(mgcid);
            if (!container) {
                console.warn("No minigame is running");
                return;
            }
            document.body.removeChild(container);
            container = null;
            setTimeout(function () { alert("Level ended. Passed: " + passed); }, 200);
        }

    </script>

    <h1>Minigames</h1>

    <h2>Bubble</h2>
    <button onclick="launch(0, 1)">level 1</button>
    <button onclick="launch(0, 2)">level 2</button>
    <button onclick="launch(0, 3)">level 3</button>
    <button onclick="launch(0, 4)">level 4</button>
    <button onclick="launch(0, 5)">level 5</button>

    <h2>Beaver</h2>
    <button onclick="launch(1, 1)">level 1</button>
    <button onclick="launch(1, 2)">level 2</button>
    <button onclick="launch(1, 3)">level 3</button>
    <button onclick="launch(1, 4)">level 4</button>
    <button onclick="launch(1, 5)">level 5</button>

    <h2>Lumberjack</h2>
    <button onclick="launch(2, 1)">score 100</button>
    <button onclick="launch(2, 5)">score 500</button>
    <button onclick="launch(2, 10)">score 1000</button>

    <h2>Sheep</h2>
    <button onclick="launch(3, 3)">do 3 jumps</button>
    <button onclick="launch(3, 5)">do 5 jumps</button>
    <button onclick="launch(3, 5)">do 10 jumps</button>

    <h2>Sorcerer</h2>
    <button onclick="launch(4, 1)">level 1</button>
    <button onclick="launch(4, 2)">level 2</button>
    <button onclick="launch(4, 3)">level 3</button>
</body>
</html>
